function populateValueWithToken(e,t,n){if(e.hasOwnProperty("section")){if(e.hasOwnProperty("trueParam")){e.value[e.section][e.trueParam][t]=n}else{e.value[e.section][t]=n}}else{if(e.hasOwnProperty("trueParam")){e.value[e.trueParam][t]=n}else{e.value[t]=n}}}function parseINIToken(e,t){if(INIRegex.trueParam.test(t)){var n=t.match(INIRegex.trueParam);if(e.hasOwnProperty("section")){e.value[e.section][n[1]]={}}else{e.value[n[1]]={}}e.trueParam=n[1]}else if(INIRegex.param.test(t)){var n=t.match(INIRegex.param);populateValueWithToken(e,n[1],n[2])}}function parseINILine(e,t){if(INIRegex.comment.test(t)){return}else if(INIRegex.section.test(t)){var n=t.match(INIRegex.section);e.value[n[1]]={};e.section=n[1]}else if(t.length==0&&e.hasOwnProperty("section")){delete e.section}else{var r=t.split(/\s+/);for(var i in r){parseINIToken(e,r[i])}delete e.trueParam}}function parseINI(e){var t={value:{}};var n=e.split(/\r\n|\r|\n/);for(var r in n){parseINILine(t,n[r])}return t.value}function updateINIChildren(e,t,n){for(var r in e.value[t][n]){if(e.value[n].hasOwnProperty(r))continue;e.value[n][r]=e.value[t][n][r]}}function updateINIParents(e,t){for(var n in e.value){if(t==n)continue;if(typeof e.value[n]=="string")continue;if(Object.keys(e.value[n]).indexOf(t)<0)continue;updateINIChildren(e,n,t);e.value[n][t]=e.value[t]}}function parseINIHiera(e){var t={value:parseINI(e)};for(var n in t.value){updateINIParents(t,n)}return t.value}var INIRegex={section:/^\s*\[\s*([^\]]*)\s*\]\s*$/,trueParam:/^\s*([\w\.\-\_]+)\s*$/,param:/^\s*([\w\.\-\_]+)\s*=\s*(.*?)\s*$/,comment:/^\s*;.*$/}